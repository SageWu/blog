# Character Set

## 基本概念

字符集：字符组成的集合，每个字符都有对应的编号\
编码：将字符映射到特定的字节序列的规则

## ASCII

ASCII字符集主要包含英文字母、数字、标点符号等。ASCII编码定义了128个字符的编码规则，使用7个比特位表示。其他编码有GB2312（大陆）、BIG5（港台）。

## Unicode

为了解决跨区域之间交流，故而产生了Unicode字符集（国际标准字符集）。每个字符都有对应的编号，取值范围为`0x000000 - 0x10FFFF`，也称为码点。对应的编码规则有`UTF-8`、`UTF-16`、`UTF-32`。

### UTF-8

可变长字符编码\
对于单字节的字符，字节第一位设置为`0`,其余7位为字符的码点。\
对于多字节的字符，第一个字节前`n`位设置为`1`,`n + 1`位设置为`0`,后续字节以`10`为前缀。\
能够兼容ASCII编码。

### UTF-16

可变长字符编码\
对于码点小于`0x10000`的字符，直接使用2个字节存储其码点。\
对于码点在`0x10000 - 0x10FFFF`范围的符号，使用4个字节存储。前两个字节前6位为`110110`，后两个字节前6位为`110111`。剩余的比特位用来存储码点减去`0x10000`的结果。\
对于码点大于`0x10FFFF`的字符，无法进行编码。

### UTF-32

固定长度字符编码。\
直接使用4个字节存储码点。

### 字节序

* 大端字节序：高位字节在前，低位字节在后，内存地址从低到高。
* 小端字节序：低位字节在前，高位字节在后，内存地址从低到高。

Unicode字符集中，有一个零宽度非换行空格，码点为`FEFF`。用该字符作为UTF编码的文件头。`UTF-16`和`UTF-32`同时可用该字符来确定字节序。
